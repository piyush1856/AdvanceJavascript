<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Log-In</title>
  </head>
  <style>
    #navbar{
      display: flex;
      flex-direction: row;
      gap: 20px;
      justify-content: end;
      border: 1px solid blue;
      margin-bottom: 25px;
      font-size: 30px;
      font-weight: bold;
    }
  </style>
  <body>
    <div id="navbar">
      <a href="./product.html">Add Product</a>
      <a href="./store.html">E-Store</a>
      <a href="./login.html" id="login">Login</a>
      <a href="./signup.html" id="signup">signup</a>
    </div>

    <div id="form">
      <h1>User Log In</h1>
      <input type="text" id="email" placeholder="Enter Email">
      <input type="text" name="" id="password" placeholder="Enter password">
      <button id="log_in" onclick="signIn()">Log In</button>
      <!-- - The input fields will have ids:- "email" and "password"
  - The log-in button will have id:- "log_in".   -->
    </div>
  </body>
</html>
<script>
let user = JSON.parse(localStorage.getItem("users")) || [];
class User {
    constructor(e,p){
 
        this.email=e;
        this.password = p;
    }

    login(email,password){
  
        let res = false;
        let count =0;

        user.forEach(ele =>{
            if(email == ele.email && password == ele.password){
                res = true;
                count++;
            }
        })
        if(res ==true && count>0){
            alert("Login successful!")
            
        }else{
            alert("Wrong credentials")
        }

    }
}

let data;

let signIn = () => {
    let email = document.getElementById("email").value;
    let password = document.getElementById("password").value;

    data = new User (email,password)
    data.login(email,password)
}
</script>
